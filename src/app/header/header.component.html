<div *ngIf="us.isWorkspaceDataLoaded; else loadingTemplate" #main>
   

    @if(us.deviceWidth > 500){
        <!--Desktop View-->
        <header>
            <div class="overlay" *ngIf="dropdownOpen" (click)="toggleDropdown()"></div>
            <div>
                <img src="/assets/img/Logo.png" alt="Logo">
            </div>
            <div class="searchBar">
                <input type="text" (input)="onSearch($event)" placeholder="Suche...">
            </div>
            <div class="loggedUserBar" (click)="toggleDropdown()" (mouseenter)="hovered = true" (mouseleave)="hovered = false">
                <span>{{ us.activeUserObject.name }}</span>
                <div [ngStyle]="{'background-image': 'url(' + us.activeUserObject.avatarUrl + ')'}" class="userAvatarCT"></div>
                <img  [src]="hovered ? '/assets/img/expand_more.png' : '/assets/img/keyboard_arrow_down.png'" alt="dropdown">
                
                <!-- Dropdown-MenÃ¼ -->
                <div class="dropdown" *ngIf="dropdownOpen">
                  <ul>
                    <li (click)="openProfileDialog()">Profil</li>
                    <li (click)="logout()">Logout</li>
                  </ul>
                </div>
            </div>
        </header>
    }
    @else {
        <!--Mobile View-->
        @if(isWSVisible){
            <header>
                <div>
                    <img src="/assets/img/Logo.png" alt="Logo">
                </div>
                <img (click)="openProfileDialog()" src="../../assets/img/defaultAvatars/defaultFemale1.png" alt="Logo">
            </header>
        }
        @else{
            <header>
                <div (click)="viewWorkspace()">
                    <svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <mask id="mask0_62625_3608" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="26">
                        <rect x="25" y="0.5" width="25" height="25" transform="rotate(90 25 0.5)" fill="#D9D9D9"/>
                        </mask>
                        <g mask="url(#mask0_62625_3608)">
                        <path d="M9.01058 12.9997C9.01058 12.8608 9.03662 12.7264 9.08871 12.5965C9.14079 12.466 9.21023 12.3573 9.29704 12.2705L14.0887 7.47884C14.2797 7.28787 14.5227 7.19238 14.8179 7.19238C15.113 7.19238 15.3561 7.28787 15.547 7.47884C15.738 7.66981 15.8335 7.91287 15.8335 8.20801C15.8335 8.50315 15.738 8.7462 15.547 8.93717L11.4845 12.9997L15.547 17.0622C15.738 17.2531 15.8335 17.4962 15.8335 17.7913C15.8335 18.0865 15.738 18.3295 15.547 18.5205C15.3561 18.7115 15.113 18.807 14.8179 18.807C14.5227 18.807 14.2797 18.7115 14.0887 18.5205L9.29704 13.7288C9.19287 13.6247 9.11926 13.5118 9.07621 13.3903C9.03246 13.2688 9.01058 13.1386 9.01058 12.9997Z" fill="black"/>
                        </g>
                    </svg>
                    <div>
                        <img src="../../assets/channel/workspace_logo.png" alt="Logo">
                        <span>Devspace</span>
                    </div>
                </div>
        
                <img (click)="openProfileDialog()" src="../../assets/img/defaultAvatars/defaultFemale1.png" alt="Logo">
            </header>
        }

    }

</div>

<ng-template #loadingTemplate>
    <div class="loading">
      <p>Laden...</p>
    </div>
</ng-template>